<nav
  class="text-white navbar navbar-expand-lg navbar fixed-top"
  style="min-height: 100px; background-color: #363a42"
>
  <div class="container-fluid">
    <a href="/" class="navbar-brand">
      <div class="logotipo">
        <div class="language">
          <img
            src="/img/Transcriptus.svg"
            width="100"
            height="100"
            alt="Ícone Inglês"
          />
          TRANSCRIPTUS
        </div>
      </div>
    </a>
    <button
      type="button"
      class="navbar-toggler"
      data-bs-toggle="collapse"
      data-bs-target="#navbarCollapse"
      aria-controls="navbarCollapse"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <div class="navbar-nav ms-auto">
        <% if (locals.user) { %>
          <a href="/tradutor" class="nav-item nav-link">
            <i class="bi bi-translate me-1"></i>
            <strong>Tradutor</strong>
          </a>
          
          <!-- Dropdown do Perfil -->
          <div class="nav-item dropdown">
            <a 
              class="nav-link dropdown-toggle profile-dropdown" 
              href="#" 
              id="profileDropdown" 
              role="button" 
              data-bs-toggle="dropdown" 
              aria-expanded="false"
            >
              <i class="bi bi-person-circle me-1"></i>
              <strong>Perfil</strong>
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
              <li class="dropdown-header">
                <i class="bi bi-person me-2"></i>
                <%= user.name %>
              </li>
              <li><hr class="dropdown-divider"></li>
              <li>
                <a class="dropdown-item" href="/historico">
                  <i class="bi bi-clock-history me-2"></i>
                  Histórico
                </a>
              </li>
              <li><hr class="dropdown-divider"></li>
              <li>
                <a class="dropdown-item" href="/logout">
                  <i class="bi bi-box-arrow-right me-2"></i>
                  Sair
                </a>
              </li>
            </ul>
          </div>
        <% } else { %>
          <a href="/login" class="nav-item nav-link">
            <i class="bi bi-box-arrow-in-right me-1"></i>
            <strong>Entrar</strong>
          </a>
          <a href="/register" class="nav-item nav-link">
            <i class="bi bi-person-plus me-1"></i>
            <strong>Registrar</strong>
          </a>
        <% } %>
      </div>
    </div>
  </div>
</nav>

<style>
  .logotipo {
    font-family: "Roboto";
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 40px;
    font-weight: bold;
    text-align: center;
    color: white;
    transition: transform 0.3s ease, color 0.3s ease;
  }

  .logotipo:hover {
    transform: scale(1.1);
    color: #5582ed;
  }

  .logotipo img {
    transition: transform 0.3s ease;
  }

  .logotipo:hover img {
    transform: rotate(10deg);
  }

  .navbar .navbar-nav .nav-link {
    color: #f8f8f8;
    font-size: 1.1em;
    padding: 0.75rem 1rem;
    transition: all 0.3s ease;
  }

  .navbar .navbar-nav .nav-link:hover {
    color: #5582ed;
    background-color: rgba(85, 130, 237, 0.1);
    border-radius: 8px;
  }

  .navbar .navbar-nav .nav-item {
    position: relative;
    margin: 0 0.25rem;
  }

  .navbar .navbar-nav .nav-item::after {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
    background-color: #5582ed;
    width: 0%;
    content: "";
    height: 4px;
    transition: all 0.5s;
    border-radius: 2px;
  }

  .navbar .navbar-nav .nav-item:hover::after {
    width: 70%;
  }

  /* Estilos do Dropdown do Perfil */
  .profile-dropdown {
    background: linear-gradient(135deg, #5582ed, #4a6cf7);
    border-radius: 25px;
    padding: 0.5rem 1rem;
    margin-left: 0.5rem;
    transition: all 0.3s ease;
    border: 2px solid transparent;
  }

  .profile-dropdown:hover {
    background: linear-gradient(135deg, #4a6cf7, #5582ed);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(85, 130, 237, 0.3);
  }

  .profile-dropdown::after {
    display: none;
  }

  .dropdown-menu {
    background-color: #2c2f36;
    border: 1px solid #40444b;
    border-radius: 12px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    padding: 0.5rem 0;
    min-width: 200px;
  }

  .dropdown-item {
    color: #f8f8f8;
    padding: 0.75rem 1.5rem;
    transition: all 0.3s ease;
    border-radius: 8px;
    margin: 0 0.5rem;
  }

  .dropdown-item:hover {
    background-color: #5582ed;
    color: white;
    transform: translateX(5px);
  }

  .dropdown-header {
    color: #5582ed;
    font-weight: bold;
    padding: 0.75rem 1.5rem;
    background-color: rgba(85, 130, 237, 0.1);
    border-radius: 8px;
    margin: 0 0.5rem 0.5rem 0.5rem;
  }

  .dropdown-divider {
    border-color: #40444b;
    margin: 0.5rem 0;
  }

  /* Responsividade */
  @media (max-width: 991.98px) {
    .logotipo {
      font-size: 28px;
    }
    
    .logotipo img {
      width: 60px;
      height: 60px;
    }
    
    .navbar-nav {
      text-align: center;
      padding: 1rem 0;
    }
    
    .navbar .navbar-nav .nav-item {
      margin: 0.5rem 0;
    }
    
    .profile-dropdown {
      margin-left: 0;
      margin-top: 0.5rem;
    }
    
    .dropdown-menu {
      text-align: center;
    }
  }

  @media (max-width: 575.98px) {
    .logotipo {
      font-size: 24px;
    }
    
    .logotipo img {
      width: 50px;
      height: 50px;
    }
    
    .navbar {
      min-height: 80px;
    }
  }

  /* Melhorias no botão do toggler */
  .navbar-toggler {
    border: none;
    padding: 0.25rem 0.5rem;
  }

  .navbar-toggler:focus {
    box-shadow: none;
  }

  .navbar-toggler-icon {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
  }
</style>
